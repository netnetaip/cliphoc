import{S as s,i as t,p as e,e as a,u as r,a as l,t as i,l as c,b as n,f as o,v as f,c as h,g as d,d as u,h as v,x as g,j as p,w as m,k as $,y as j,z as b,A as E,B as y,q as w,I as k,J as x,K as D,L as I,D as F,E as S}from"./client.6d85ea5e.js";import{f as A}from"./Image.12978ffc.js";import{F as B}from"./Figure.723e67aa.js";function L(s,t,e){const a=s.slice();return a[4]=t[e],a}function O(s,t){let e,w,k,x,D,I,F,S,A,L,O,T,q,z,C=t[4].title+"",J=t[4].city+"";return w=new B({props:{card:t[4],intersect:t[0]}}),{key:s,first:null,c(){e=a("a"),r(w.$$.fragment),k=l(),x=a("dl"),D=a("dt"),I=i(C),F=a("dd"),S=i(J),A=l(),L=c("svg"),O=c("use"),T=l(),this.h()},l(s){e=n(s,"A",{href:!0,rel:!0,class:!0});var t=o(e);f(w.$$.fragment,t),k=h(t),x=n(t,"DL",{class:!0});var a=o(x);D=n(a,"DT",{class:!0});var r=o(D);I=d(r,C),r.forEach(u),F=n(a,"DD",{class:!0});var l=o(F);S=d(l,J),l.forEach(u),a.forEach(u),A=h(t),L=n(t,"svg",{class:!0},1);var i=o(L);O=n(i,"use",{"xlink:href":!0},1),o(O).forEach(u),i.forEach(u),T=h(t),t.forEach(u),this.h()},h(){v(D,"class","svelte-b24raj"),v(F,"class","svelte-b24raj"),v(x,"class","svelte-b24raj"),g(O,"xlink:href","/sprite.svg#right"),v(L,"class","svelte-b24raj"),v(e,"href",q="locations/"+t[4].id),v(e,"rel","prefetch"),v(e,"class","svelte-b24raj"),this.first=e},m(s,t){p(s,e,t),m(w,e,null),$(e,k),$(e,x),$(x,D),$(D,I),$(x,F),$(F,S),$(e,A),$(e,L),$(L,O),$(e,T),z=!0},p(s,t){const a={};2&t&&(a.card=s[4]),1&t&&(a.intersect=s[0]),w.$set(a),(!z||2&t)&&C!==(C=s[4].title+"")&&j(I,C),(!z||2&t)&&J!==(J=s[4].city+"")&&j(S,J),(!z||2&t&&q!==(q="locations/"+s[4].id))&&v(e,"href",q)},i(s){z||(b(w.$$.fragment,s),z=!0)},o(s){E(w.$$.fragment,s),z=!1},d(s){s&&u(e),y(w)}}}function T(s){let t,e,r,i,c,f=[],d=new Map,g=s[1];const m=s=>s[4].id;for(let t=0;t<g.length;t+=1){let e=L(s,g,t),a=m(e);d.set(a,f[t]=O(a,e))}return{c(){t=l(),e=a("section"),r=a("div");for(let s=0;s<f.length;s+=1)f[s].c();this.h()},l(s){w('[data-svelte="svelte-1295geg"]',document.head).forEach(u),t=h(s),e=n(s,"SECTION",{class:!0});var a=o(e);r=n(a,"DIV",{class:!0});var l=o(r);for(let s=0;s<f.length;s+=1)f[s].l(l);l.forEach(u),a.forEach(u),this.h()},h(){document.title="Favourites",v(r,"class","svelte-b24raj"),v(e,"class","svelte-b24raj")},m(s,a){p(s,t,a),p(s,e,a),$(e,r);for(let s=0;s<f.length;s+=1)f[s].m(r,null);c=!0},p(s,[t]){if(3&t){const e=s[1];D(),f=k(f,t,m,1,s,e,d,r,I,O,null,L),x()}},i(s){if(!c){for(let s=0;s<g.length;s+=1)b(f[s]);i||F(()=>{i=S(e,A,{duration:320,y:40,opacity:1}),i.start()}),c=!0}},o(s){for(let s=0;s<f.length;s+=1)E(f[s]);c=!1},d(s){s&&u(t),s&&u(e);for(let s=0;s<f.length;s+=1)f[s].d()}}}async function q(s,t){const e=await this.fetch("https://5fdd171448321c00170126f7.mockapi.io/locations");if(200===e.status){return{list:await e.json()}}this.error(500,"Problems with server. Be right back soon ;)")}function z(s,t,e){let a,{list:r}=t,{intersect:l=!0}=t,i=[];return s.$$set=s=>{"list"in s&&e(2,r=s.list),"intersect"in s&&e(0,l=s.intersect)},s.$$.update=()=>{12&s.$$.dirty&&e(1,i=r.filter(s=>{if("undefined"!=typeof window)return e(3,a=Object.keys(localStorage)),a.includes(s.id)}))},[l,i,r]}export default class extends s{constructor(s){super(),t(this,s,z,T,e,{list:2,intersect:0})}}export{q as preload};
