import{S as e,i as t,p as s,e as l,t as r,a as o,b as n,f as a,g as i,d as c,c as f,h,j as u,k as d,y as g,I as p,J as m,z as v,A as E,q as $,C as b,u as x,v as y,w as k,B as w,K as B,L as q,D as S,E as D}from"./client.6d85ea5e.js";import{f as I}from"./Image.12978ffc.js";import{F as j}from"./Figure.723e67aa.js";function C(e,t,s){const l=e.slice();return l[10]=t[s],l}function _(e,t,s){const l=e.slice();return l[7]=t[s],l}function z(e,t){let s,p,m,$,b,B,q,S,D,I,C,_=t[10].title+"",z=t[10].city+"";return p=new j({props:{card:t[10]}}),{key:e,first:null,c(){s=l("a"),x(p.$$.fragment),m=o(),$=l("dl"),b=l("dt"),B=r(_),q=l("dd"),S=r(z),D=o(),this.h()},l(e){s=n(e,"A",{href:!0,rel:!0,class:!0});var t=a(s);y(p.$$.fragment,t),m=f(t),$=n(t,"DL",{class:!0});var l=a($);b=n(l,"DT",{class:!0});var r=a(b);B=i(r,_),r.forEach(c),q=n(l,"DD",{class:!0});var o=a(q);S=i(o,z),o.forEach(c),l.forEach(c),D=f(t),t.forEach(c),this.h()},h(){h(b,"class","svelte-1xniebq"),h(q,"class","svelte-1xniebq"),h($,"class","svelte-1xniebq"),h(s,"href",I="locations/"+t[10].id),h(s,"rel","prefetch"),h(s,"class","svelte-1xniebq"),this.first=s},m(e,t){u(e,s,t),k(p,s,null),d(s,m),d(s,$),d($,b),d(b,B),d($,q),d(q,S),d(s,D),C=!0},p(e,t){const l={};1&t&&(l.card=e[10]),p.$set(l),(!C||1&t)&&_!==(_=e[10].title+"")&&g(B,_),(!C||1&t)&&z!==(z=e[10].city+"")&&g(S,z),(!C||1&t&&I!==(I="locations/"+e[10].id))&&h(s,"href",I)},i(e){C||(v(p.$$.fragment,e),C=!0)},o(e){E(p.$$.fragment,e),C=!1},d(e){e&&c(s),w(p)}}}function A(e){let t,s,$,b,x,y,k,w,S=e[7]+"",D=[],I=new Map;function j(...t){return e[4](e[7],...t)}let _=e[1].filter(j);const A=e=>e[10].id;for(let t=0;t<_.length;t+=1){let s=C(e,_,t),l=A(s);I.set(l,D[t]=z(l,s))}return{c(){t=l("header"),s=l("h2"),$=r(S),b=o(),x=l("div"),y=l("div");for(let e=0;e<D.length;e+=1)D[e].c();k=o(),this.h()},l(e){t=n(e,"HEADER",{class:!0});var l=a(t);s=n(l,"H2",{});var r=a(s);$=i(r,S),r.forEach(c),l.forEach(c),b=f(e),x=n(e,"DIV",{class:!0});var o=a(x);y=n(o,"DIV",{class:!0});var h=a(y);for(let e=0;e<D.length;e+=1)D[e].l(h);h.forEach(c),k=f(o),o.forEach(c),this.h()},h(){h(t,"class","svelte-1xniebq"),h(y,"class","svelte-1xniebq"),h(x,"class","svelte-1xniebq")},m(e,l){u(e,t,l),d(t,s),d(s,$),u(e,b,l),u(e,x,l),d(x,y);for(let e=0;e<D.length;e+=1)D[e].m(y,null);d(x,k),w=!0},p(t,s){if(e=t,(!w||1&s)&&S!==(S=e[7]+"")&&g($,S),3&s){const t=e[1].filter(j);B(),D=p(D,s,A,1,e,t,I,y,q,z,null,C),m()}},i(e){if(!w){for(let e=0;e<_.length;e+=1)v(D[e]);w=!0}},o(e){for(let e=0;e<D.length;e+=1)E(D[e]);w=!1},d(e){e&&c(t),e&&c(b),e&&c(x);for(let e=0;e<D.length;e+=1)D[e].d()}}}function T(e){let t,s,r,i,d=e[0],g=[];for(let t=0;t<d.length;t+=1)g[t]=A(_(e,d,t));const p=e=>E(g[e],1,1,()=>{g[e]=null});return{c(){t=o(),s=l("section");for(let e=0;e<g.length;e+=1)g[e].c();this.h()},l(e){$('[data-svelte="svelte-ygz96u"]',document.head).forEach(c),t=f(e),s=n(e,"SECTION",{class:!0});var l=a(s);for(let e=0;e<g.length;e+=1)g[e].l(l);l.forEach(c),this.h()},h(){document.title="Browse",h(s,"class","svelte-1xniebq")},m(e,l){u(e,t,l),u(e,s,l);for(let e=0;e<g.length;e+=1)g[e].m(s,null);i=!0},p(e,[t]){if(3&t){let l;for(d=e[0],l=0;l<d.length;l+=1){const r=_(e,d,l);g[l]?(g[l].p(r,t),v(g[l],1)):(g[l]=A(r),g[l].c(),v(g[l],1),g[l].m(s,null))}for(B(),l=d.length;l<g.length;l+=1)p(l);m()}},i(e){if(!i){for(let e=0;e<d.length;e+=1)v(g[e]);r||S(()=>{r=D(s,I,{duration:320,y:40,opacity:1}),r.start()}),i=!0}},o(e){g=g.filter(Boolean);for(let e=0;e<g.length;e+=1)E(g[e]);i=!1},d(e){e&&c(t),e&&c(s),b(g,e)}}}async function O(e,t){const s=await this.fetch("https://5fdd171448321c00170126f7.mockapi.io/locations");if(200===s.status){return{list:await s.json()}}this.error(500,"Problems with server. Be right back soon ;)")}function R(e,t,s){let l,{list:r}=t,{checkgroup:o=[]}=t,{counties:n=["Avon","Berkshire","Bedfordshire","Borders","Buckinghamshire","Cambridgeshire"]}=t,a=[...r];return e.$$set=e=>{"list"in e&&s(2,r=e.list),"checkgroup"in e&&s(3,o=e.checkgroup),"counties"in e&&s(0,n=e.counties)},e.$$.update=()=>{8&e.$$.dirty&&console.log("%c BROWSE Checkgroup ","color:green; font-weight:bold; font-size:14px",o),32&e.$$.dirty&&(async()=>{if("undefined"!=typeof window)sessionStorage.getItem("Session_state",l)?s(5,l="Session_is_SET"):s(5,l="Session_is_EMPTY")})()},console.log("%c BROWSE Cards ","color:green; font-weight:bold; font-size:14px",a),[n,a,r,o,(e,t)=>t.county.includes(e)]}export default class extends e{constructor(e){super(),t(this,e,R,T,s,{list:2,checkgroup:3,counties:0})}}export{O as preload};
